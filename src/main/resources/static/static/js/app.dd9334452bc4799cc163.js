webpackJsonp([1],{"2F4o":function(e,t){},"5W1q":function(e,t){},EWIa:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("VU/8")({name:"App",components:{},data:function(){return{}}},l,!1,function(e){a("2F4o")},null,null).exports,n=a("/ocq"),i=a("mvHQ"),s=a.n(i),c=a("fZjL"),d=a.n(c),u={data:function(){return{loading:!1,form:{address1:"",address2:"",inputUser:"",inputDate:new Date,pointManNo:"",name:"",sex:"男",healthy:"健在",inCurrentCountry:"否",birthDate:"",currentAddr:"",idCardNo:"",mobilePhone:"",isOtherPointmanRel:"否",otherPointmanName:"",otherPointmanRel:""},rules:{address1:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],address2:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],inputUser:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],inputDate:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],pointManNo:[{required:!0,message:"请输入此处必要信息",trigger:"blur"},{type:"integer",message:"必须为数字",trigger:["blur","change"]}],name:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],birthDate:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],currentAddr:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],idCardNo:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],mobilePhone:[{required:!0,message:"请输入此处必要信息",trigger:"blur"},{type:"integer",message:"请输入正确的手机号",trigger:["blur","change"]}],otherPointmanName:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}],otherPointmanRel:[{required:!0,message:"请输入此处必要信息",trigger:"blur"}]},relations:[{label:"父亲",value:"01"},{label:"母亲",value:"02"},{label:"夫妻",value:"03"},{label:"未婚子女",value:"04"},{label:"已婚子女",value:"05"},{label:"未婚孙儿(女)/外孙儿(女)",value:"06"},{label:"已婚孙儿(女)/外孙儿(女)",value:"07"},{label:"兄弟姐妹",value:"08"},{label:"其他",value:"09"}],inKinShips:[],outKinShips:[]}},methods:{confirm:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0,e.form.addr="乳山市"+e.form.address1+"乡镇"+e.form.address2+"村（居委会）",e.form.outKinShips=e.outKinShips,e.form.inKinShips=e.inKinShips,e.axios({method:"post",url:"http://10.72.89.1:8050/qs/api/v1/addpm",data:s()(e.form),headers:{"Content-Type":"application/json"}}).then(function(t){0==t.data.code?(e.$message.success("保存成功！"),e.$router.push({path:"/"})):e.$message.error(t.data.msg),e.loading=!1}).catch(function(t){e.loading=!1,e.$message.error(t)})})},addIn:function(){this.inKinShips.push({kinshipCode:"",name:"",sex:"",birthdate:"",idcardNo:"",remark:""})},addOut:function(){this.outKinShips.push({kinshipCode:"",name:"",sex:"",birthdate:"",idcardNo:"",remark:""})},delInKinShips:function(e){this.inKinShips.splice(e,1)},delOutKinShips:function(e){this.inKinShips.splice(e,1)}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px 10px"}},[a("div",{staticClass:"clearfix",staticStyle:{"text-align":"left"},attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"20px"}},[e._v("乳山市健康查体项目指示者家庭成员登记表")])]),e._v(" "),a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"form",staticStyle:{"text-align":"left","margin-top":"10px"},attrs:{model:e.form,"label-width":"290px",rules:e.rules}},[a("el-form-item",{attrs:{label:"地址"}},[e._v("\n        乳山市"),a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"address1"}},[a("el-input",{staticStyle:{width:"162px"},model:{value:e.form.address1,callback:function(t){e.$set(e.form,"address1",t)},expression:"form.address1"}})],1),e._v("\n        乡镇"),a("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"address2"}},[a("el-input",{staticStyle:{width:"163px"},model:{value:e.form.address2,callback:function(t){e.$set(e.form,"address2",t)},expression:"form.address2"}})],1),e._v("村（居委会）\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"填表人",prop:"inputUser"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.form.inputUser,callback:function(t){e.$set(e.form,"inputUser",t)},expression:"form.inputUser"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"填表日期",prop:"inputDate"}},[a("el-date-picker",{staticStyle:{width:"400px"},attrs:{align:"right","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.inputDate,callback:function(t){e.$set(e.form,"inputDate",t)},expression:"form.inputDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指示者编号",prop:"pointManNo"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.form.pointManNo,callback:function(t){e.$set(e.form,"pointManNo",e._n(t))},expression:"form.pointManNo"}}),e._v("\n        （4位，直接从打印名单表中誊抄）\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio-group",{model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},[a("el-radio",{attrs:{label:"男"}}),e._v(" "),a("el-radio",{attrs:{label:"女"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目前状况",prop:"healthy"}},[a("el-radio-group",{model:{value:e.form.healthy,callback:function(t){e.$set(e.form,"healthy",t)},expression:"form.healthy"}},[a("el-radio",{attrs:{label:"健在"}}),e._v(" "),a("el-radio",{attrs:{label:"去世"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否从本村迁出"}},[a("el-radio-group",{model:{value:e.form.inCurrentCountry,callback:function(t){e.$set(e.form,"inCurrentCountry",t)},expression:"form.inCurrentCountry"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期",prop:"birthDate"}},[a("el-date-picker",{staticStyle:{width:"400px"},attrs:{align:"right","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.birthDate,callback:function(t){e.$set(e.form,"birthDate",t)},expression:"form.birthDate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"现住址",prop:"currentAddr"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.form.currentAddr,callback:function(t){e.$set(e.form,"currentAddr",t)},expression:"form.currentAddr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号",prop:"idCardNo"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.form.idCardNo,callback:function(t){e.$set(e.form,"idCardNo",t)},expression:"form.idCardNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"mobilePhone"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.form.mobilePhone,callback:function(t){e.$set(e.form,"mobilePhone",e._n(t))},expression:"form.mobilePhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"该指示者与本村其他指示者是否有亲缘关联"}},[a("el-radio-group",{model:{value:e.form.isOtherPointmanRel,callback:function(t){e.$set(e.form,"isOtherPointmanRel",t)},expression:"form.isOtherPointmanRel"}},[a("el-radio",{attrs:{label:"是"}}),e._v(" "),a("el-radio",{attrs:{label:"否"}})],1)],1),e._v(" "),"是"==e.form.isOtherPointmanRel?a("el-form-item",{attrs:{label:"关联人",prop:"otherPointmanName"}},[a("el-input",{staticStyle:{width:"400px"},model:{value:e.form.otherPointmanName,callback:function(t){e.$set(e.form,"otherPointmanName",t)},expression:"form.otherPointmanName"}})],1):e._e(),e._v(" "),"是"==e.form.isOtherPointmanRel?a("el-form-item",{attrs:{label:"与关联人关系",prop:"otherPointmanRel"}},[a("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择"},model:{value:e.form.otherPointmanRel,callback:function(t){e.$set(e.form,"otherPointmanRel",t)},expression:"form.otherPointmanRel"}},e._l(e.relations,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),"09"==e.form.otherPointmanRel?a("el-input",{staticStyle:{width:"200px"},model:{value:e.form.otherPointmanRelOther,callback:function(t){e.$set(e.form,"otherPointmanRelOther",t)},expression:"form.otherPointmanRelOther"}}):e._e(),"09"==e.form.otherPointmanRel?a("span",[e._v("2012年后共同居住1年以上者，请注明关系：（比如：公婆， 妯娌等）")]):e._e()],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"目前本村居住"}},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.addIn}},[e._v("添加")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.inKinShips,stripe:""}},[a("el-table-column",{attrs:{prop:"kinshipCode",label:"亲缘关系",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.row.kinshipCode,callback:function(a){e.$set(t.row,"kinshipCode",a)},expression:"scope.row.kinshipCode"}},e._l(e.relations,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),"09"==t.row.kinshipCode?a("el-input",{staticStyle:{width:"400px"},model:{value:t.row.kinshipCodeOther,callback:function(a){e.$set(t.row,"kinshipCodeOther",a)},expression:"scope.row.kinshipCodeOther"}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},model:{value:t.row.sex,callback:function(a){e.$set(t.row,"sex",a)},expression:"scope.row.sex"}},[a("el-option",{attrs:{value:"男",label:"男"}}),e._v(" "),a("el-option",{attrs:{value:"女",label:"女"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"birthdate",label:"出生日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",placeholder:"选择日期"},model:{value:t.row.birthdate,callback:function(a){e.$set(t.row,"birthdate",a)},expression:"scope.row.birthdate"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"idcardNo",label:"身份证号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.idcardNo,callback:function(a){e.$set(t.row,"idcardNo",a)},expression:"scope.row.idcardNo"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.delInKinShips(t.$index)}}})]}}])})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目前外村居住"}},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.addOut}},[e._v("添加")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.outKinShips,stripe:""}},[a("el-table-column",{attrs:{prop:"kinshipCode",label:"亲缘关系",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.row.kinshipCode,callback:function(a){e.$set(t.row,"kinshipCode",a)},expression:"scope.row.kinshipCode"}},e._l(e.relations,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),"09"==t.row.kinshipCode?a("el-input",{staticStyle:{width:"400px"},model:{value:t.row.kinshipCodeOther,callback:function(a){e.$set(t.row,"kinshipCodeOther",a)},expression:"scope.row.kinshipCodeOther"}}):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{staticStyle:{width:"100%"},model:{value:t.row.sex,callback:function(a){e.$set(t.row,"sex",a)},expression:"scope.row.sex"}},[a("el-option",{attrs:{value:"男",label:"男"}}),e._v(" "),a("el-option",{attrs:{value:"女",label:"女"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"birthdate",label:"出生日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{align:"right",type:"date",placeholder:"选择日期"},model:{value:t.row.birthdate,callback:function(a){e.$set(t.row,"birthdate",a)},expression:"scope.row.birthdate"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"idcardNo",label:"身份证号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.idcardNo,callback:function(a){e.$set(t.row,"idcardNo",a)},expression:"scope.row.idcardNo"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"currentAddr",label:"现住址"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},model:{value:t.row.currentAddr,callback:function(a){e.$set(t.row,"currentAddr",a)},expression:"scope.row.currentAddr"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"备注"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"},model:{value:t.row.remark,callback:function(a){e.$set(t.row,"remark",a)},expression:"scope.row.remark"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"remark",label:"操作",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.delOutKinShips(t.$index)}}})]}}])})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:e.loading},on:{click:e.confirm}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{disabled:e.loading}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(u,p,!1,function(e){a("orrE")},"data-v-70fe9322",null).exports,f={components:{AddWin:m},data:function(){return{addFlag:!1,total:0,currentPage:1,pageSize:10,tableData:[],selectedRow:[]}},mounted:function(){this.getList()},methods:{getList:function(){var e=this,t={page:this.currentPage,pageSize:this.pageSize,field:"name"},a="";d()(t).forEach(function(e){a+="&"+e+"="+t[e]}),this.axios({method:"get",url:"http://10.72.89.1:8050/qs/api/v1/querypm?"+(new Date).getTime()+a}).then(function(t){e.tableData=t.data.data,e.total=t.data.total}).catch(function(t){e.loading=!1,e.$message.error(t),console.log(t)})},add:function(){this.$router.push({path:"/Add"})},handleCurrentChange:function(e){this.currentPage=e},handleSizeChange:function(e){this.pageSize=e},selectRow:function(e){this.selectedRow=e},delRow:function(){var e=this;if(this.selectedRow){var t={pmid:this.selectedRow.id},a="";d()(t).forEach(function(e){a+="&"+e+"="+t[e]}),this.axios({method:"post",data:s()({}),headers:{"Content-Type":"application/json"},url:"http://10.72.89.1:8050/qs/api/v1/deletepm?"+(new Date).getTime()+a}).then(function(t){0==t.data.code?(e.$message.success("删除成功！"),e.getList()):e.$message.error(t.data.code)}).catch(function(t){e.$message.error(t),console.log(t)})}},exportData:function(){document.location="http://10.72.89.1:8050/qs/download"}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"operButton"},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.add}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success",disabled:0==e.selectedRow.length},on:{click:e.delRow}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"success"},on:{click:e.exportData}},[e._v("导出")])],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{margin:"10px 10px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"","highlight-current-row":""},on:{"current-change":e.selectRow}},[a("el-table-column",{attrs:{prop:"pointManNo",label:"指示者编号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"idCardNo",label:"身份证号",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"addr",label:"住址"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),e.addFlag?a("add-win"):e._e()],1)],1)},staticRenderFns:[]};var b=a("VU/8")(f,h,!1,function(e){a("eAQA")},"data-v-69bbb8b6",null).exports,v={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};a("VU/8")({data:function(){return{}},mounted:function(){},methods:{}},v,!1,function(e){a("mJOi")},"data-v-2c874c73",null).exports;r.default.use(n.a);var g=new n.a({routes:[{path:"/",name:"List",component:b},{path:"/Add",name:"Add",component:m}]}),w=a("zL8q"),_=a.n(w),y=(a("7t+N"),a("tvR6"),a("sfy8"),a("5W1q"),a("EWIa"),a("Muz9")),k=a.n(y),x=a("Rf8U"),S=a.n(x);r.default.use(S.a,k.a),r.default.config.productionTip=!1,r.default.use(_.a),new r.default({el:"#app",router:g,components:{App:o},template:"<App/>"})},eAQA:function(e,t){},mJOi:function(e,t){},orrE:function(e,t){},sfy8:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.dd9334452bc4799cc163.js.map